(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e000fd7","chunk-1e000fd7"],{"1bb3":function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"time-line-warp"},[i("div",{staticClass:"left"},[i("div",{staticClass:"start-btn"},[i("div",{staticClass:"circle"},[t.isPlay?i("div",{staticClass:"triangle",on:{click:function(s){t.isPlay=!1}}}):i("div",{staticClass:"stop",on:{click:function(s){t.isPlay=!0}}})])]),i("div",{staticClass:"month"},[t._v(t._s(t.curMonthStr))])]),i("div",{staticClass:"time-line-main"},t._l(t.dateList,(function(s,a){return i("div",{key:s.no,staticClass:"date-item"},[i("div",{staticClass:"top-line",class:{active:s.old},on:{click:function(s){return t.setProgressHandle(a)}}}),i("div",{staticClass:"date-label"},[t._v(t._s(s.str))])])})),0)])},e=[],n=(i("a9e3"),i("d3b7"),i("159b"),i("c1df")),r=i.n(n),o=i("fc7d"),c=o["a"].covidDataUtil,d={data:function(){return{dateList:[],isVli:!1,isPlay:!0,player:null,curMonth:void 0,curMonthStr:void 0,isLatest:!1,progress:0,curDate:this.startDate}},props:{startDate:String,endDate:String,speed:Number},created:function(){this.initDates(this.startDate)},watch:{isPlay:function(t){t?this.stopPlay():this.startPlay()},curMonth:function(t){this.curMonthStr=t.format("YYYY年MM月")}},mounted:function(){},methods:{initDates:function(t){this.curMonth=r()(t);var s=r()(t).daysInMonth(),i=r()(t).get("date"),a=s-i+1;this.dateList=[];for(var e=0;e<a;e++)this.dateList.push({no:e+1,str:"".concat(i+e,"日"),old:!1,date:r()(t).add(e,"day").format(c.dateFormat)});console.log(this.dateList),this.isVli=!0},startPlay:function(){this.player&&this.stopPlay();var t=this;this.player=window.setInterval((function(){return t.isLatest?(t.stopPlay(),void t.reset()):r()(t.curDate).get("month")!==r()(t.curMonth).get("month")?(t.updateMonth(t.curDate),void(t.progress=0)):void(r()(t.curDate).diff(r()(),"days")>=0?t.isLatest=!0:t.dateList.length>0&&(t.dateList[t.progress].old=!0,t.$emit("changeDate",t.curDate),t.progress+=t.speed,t.curDate=r()(t.curDate).add(t.speed,"day").format(c.dateFormat)))}),1e3)},stopPlay:function(){window.clearInterval(this.player),this.player=null},reset:function(){var t=c.covidDefaultStartTime;this.$emit("changeDate",t),this.initDates(t),this.curMonth=r()(t),this.isPlay=!0,this.isLatest=!1},updateMonth:function(t){this.curMonth=r()(t),this.initDates(t)},setProgressHandle:function(t){this.progress=t,this.dateList.forEach((function(s,i){s.old=i<=t})),this.curDate=this.dateList[t].date,this.$emit("changeDate",this.curDate)}}},l=d,u=(i("6fbd"),i("2877")),h=Object(u["a"])(l,a,e,!1,null,null,null);s["default"]=h.exports},"6fbd":function(t,s,i){"use strict";i("77df")},"77df":function(t,s,i){}}]);
//# sourceMappingURL=chunk-1e000fd7.aadfd1f8.js.map