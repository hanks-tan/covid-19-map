(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2294953c"],{"50e8":function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("el-tabs",{staticClass:"tabs",attrs:{type:"border-card"},model:{value:a.curTabPane,callback:function(e){a.curTabPane=e},expression:"curTabPane"}},a._l(a.chartList,(function(e){return t("el-tab-pane",{key:e.code,attrs:{label:e.label,name:e.code}},[a.curTabPane===e.code?t("div",[t("div",{staticClass:"chart-header"},[t("span",{staticClass:"text"},[a._v("时间范围")]),t("el-select",{attrs:{placeholder:"",size:"small"},on:{change:a.typeChangeHandle},model:{value:a.typeValue,callback:function(e){a.typeValue=e},expression:"typeValue"}},a._l(a.totalTypeList,(function(a){return t("el-option",{key:a.code,attrs:{label:a.label,value:a.code}})})),1),t("div",["custom"===a.typeValue?t("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small"},on:{change:a.dataRangeChanged},model:{value:a.dateRange,callback:function(e){a.dateRange=e},expression:"dateRange"}}):a._e()],1)],1),t("BaseBar",{staticClass:"chart-container",attrs:{group:e.group,title:a.title}})],1):a._e()])})),1)],1)},n=[],l=t("b85c"),i=t("3835"),o=(t("7db0"),t("d3b7"),t("159b"),t("4ec9"),t("3ca3"),t("ddb0"),t("d81d"),t("c1df")),c=t.n(o),s=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div")},u=[],d=t("22b4"),h=t("1be7"),p=t("9394"),b=t("2da7"),f=t("4b2a"),g=t("4cb5"),v=t("f95e");d["a"]([p["a"],b["a"],f["a"],g["a"],v["a"]]);var y={data:function(){return{chart:null}},props:{group:{type:Array},title:{type:String}},watch:{group:function(a){this.showChart(a)}},mounted:function(){this.showChart()},methods:{showChart:function(){this.chart||(this.chart=h["b"](this.$el));var a=[],e=[];this.group.forEach((function(t){a.push(t[0]),e.push(t[1])}));var t={title:{text:this.title},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"3%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:a},yAxis:{type:"value"},series:[{data:e,type:"bar",barWidth:"30",itemStyle:{borderColor:"transparent",color:"rgb(145 204 117)"}}]};this.chart.setOption(t)}}},m=y,w=t("2877"),C=Object(w["a"])(m,s,u,!1,null,"1e38ab04",null),x=C.exports,k=t("fc7d"),R=t("343d"),A=t("333f"),T={components:{BaseBar:x},mixins:[R["a"]],data:function(){return{chartList:[{code:"age",label:"按年龄",group:[],groupMap:k["a"].covidDataUtil.ageGroup1,formatValue:k["a"].formatAge},{code:"sex",label:"按性别",group:[],groupMap:[{id:1,label:"男",value:"男"},{id:2,label:"女",value:"女"}]},{code:"address",label:"按区域",group:[],groupMap:[{id:1,label:"福田区",value:""},{id:2,label:"南山区",value:""},{id:3,label:"宝安区",value:""},{id:4,label:"罗湖区",value:""},{id:5,label:"龙岗区",value:""},{id:6,label:"坪山区",value:""},{id:7,label:"龙华区",value:""},{id:8,label:"大鹏新区",value:""},{id:9,label:"坪山新区",value:""},{id:10,label:"光明新区",value:""}],formatValue:k["a"].formatRegion}],curTabPane:"age",typeValue:"day",title:"",dateRangeOptions:[],dateRange:""}},props:{data:{type:Array}},watch:{curTabPane:function(a){this.showChart()}},mounted:function(){this.showChart()},methods:{showChart:function(){var a=this,e=this.chartList.find((function(e){return e.code===a.curTabPane}));if(e){var t,r,n=this.totalTypeList.find((function(e){return e.code===a.typeValue}));if("custom"===n.code){var l=Object(i["a"])(this.dateRange,2);t=l[0],r=l[1]}else r=c()(A["a"].endDate),t=c()(A["a"].endDate).subtract(n.value,"day");var o=this.filterMapDataByDateRange(t,r,this.data),s=this.createGroupByAge(o,e.code,e.groupMap,e.formatValue);e.group=s,this.title="确诊人数："+o.length}},group:function(a,e){var t={};return a.forEach((function(a){var r=a[e];t[r]?t[r]+=1:t[r]=1})),t},typeChangeHandle:function(a){this.showChart()},createGroupByAge:function(a,e,t,r){var n=new Map;a.forEach((function(a){var i=a[e],o=r?r(i):i,c="";if(t){var s,u=Object(l["a"])(t);try{for(u.s();!(s=u.n()).done;){var d=s.value,h=d.id;if(h){var p=d.limit,b=d.value||d.label;if(Array.isArray(p)&&2===p.length){var f=parseInt(o);if("number"===typeof f&&f>p[0]&&f<=p[1]){c=h;break}}else if(b===o){c=h;break}}}}catch(v){u.e(v)}finally{u.f()}if(c){var g=n.get(c);g=g?g+1:1,n.set(c,g)}}}));var i=t.map((function(a){var e=a.label,t=n.get(a.id)||0;return[e,t]}));return i},dataRangeChanged:function(){this.showChart()}}},V=T,_=(t("a74c"),Object(w["a"])(V,r,n,!1,null,"121a91ee",null));e["default"]=_.exports},"678c":function(a,e,t){},a74c:function(a,e,t){"use strict";t("678c")}}]);